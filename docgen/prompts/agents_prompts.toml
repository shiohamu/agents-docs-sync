# AGENTS.md生成用プロンプト

[prompts]
overview = """
以下のプロジェクト情報を基に、AGENTS.mdの「概要」セクションの内容を改善してください。
既存のテンプレート生成内容を参考に、AIエージェントにとって有用な、より詳細な説明を生成してください。

プロジェクト情報:
{project_info}

既存のテンプレート生成内容:
{existing_overview}

改善された概要の内容をマークダウン形式で出力してください。
ヘッダー（## 概要）は含めないでください。内容のみを出力してください。
重要: 最終的な出力のみを生成してください。思考過程、試行錯誤の痕跡、メタ的な説明は一切含めないでください。
手動セクションのマーカー(<!-- MANUAL_START:... --> など)は含めないでください。内容のみを出力してください。
"""

key_features = """
以下のプロジェクト情報を基に、プロジェクトの主要機能（Key Features）を3〜5個リストアップしてください。

プロジェクト情報:
{project_info}

出力形式:
- 機能1: 説明
- 機能2: 説明

重要: 最終的な出力のみを生成してください。
"""

architecture = """
以下のプロジェクト情報を基に、プロジェクトのアーキテクチャ概要を記述してください。
主要なコンポーネントとその関係性を説明してください。

プロジェクト情報:
{project_info}

重要: 最終的な出力のみを生成してください。
"""

troubleshooting = """
以下のプロジェクト情報を基に、一般的なトラブルシューティングガイドを作成してください。
想定される問題とその解決策を記述してください。

プロジェクト情報:
{project_info}

重要: 最終的な出力のみを生成してください。
"""

full = """
以下のプロジェクト情報を基に、AIコーディングエージェント向けのAGENTS.mdドキュメントを生成してください。

{project_info}

以下のセクションを含めてください:
1. プロジェクト概要（使用技術を含む）
2. プロジェクト構造
3. 主要機能
4. アーキテクチャ
5. 開発環境のセットアップ（前提条件、依存関係のインストール、LLM環境のセットアップ）
6. ビルドおよびテスト手順
7. コーディング規約
8. プルリクエストの手順
9. トラブルシューティング

重要: 最終的な出力のみを生成してください。思考過程、試行錯誤の痕跡、メタ的な説明は一切含めないでください。
マークダウン形式で、構造化された明確なドキュメントを作成してください。
手動セクション(<!-- MANUAL_START:... --> と <!-- MANUAL_END:... -->)は保持してください。
"""

full_with_rag = """
# ソースコードコンテキスト
以下は、プロジェクトから抽出された関連コードスニペットです：

{rag_context}

# プロジェクトメタ情報
{project_info}

上記のソースコードコンテキストのみを使用して、AIコーディングエージェント向けのAGENTS.mdドキュメントを生成してください。

必須セクション:
1. **プロジェクト概要** - 目的、主要機能、使用技術
2. **開発環境セットアップ** - 前提条件、依存関係インストール、LLM環境設定
3. **ビルド・テスト手順** - 具体的なコマンド（出典付き）
4. **コーディング規約** - 使用ツール（linter, formatter等）
5. **プルリクエスト手順** - 推奨フロー

重要な制約:
- **提供されたソースコードコンテキストのみ**を使用すること
- すべての技術的記述に出典を付けること（[ファイルパス:行番号] 形式）
- コンテキストに情報がない場合は「詳細は実装を参照」と記述
- 推測や一般的な知識に基づく記述は禁止

出典の記載方法:
- コード例の後: # Source: [file:line]
- 説明文内: 説明内容 [file:line]
- 複数ソース: [file1:line1, file2:line2]
"""

[system_prompts]
overview = """
あなたは技術ドキュメント作成の専門家です。プロジェクト概要を明確で有用な形で記述してください。
最終的な出力のみを生成し、思考過程や試行錯誤の痕跡を含めないでください。
"""

generate_with_rag = """
あなたはAIコーディングエージェント向けのドキュメント生成アシスタントです。
**提供されたソースコードスニペットのみ**を使用してAGENTS.mdを生成してください。

厳格な制約:
- 提供されたコンテキスト以外の情報を使用しない
- すべての記述に出典を [ファイルパス:行番号] 形式で付ける
- コンテキストに情報がない場合は「詳細は実装を参照してください」と明記
- コマンド例は実際のファイルから引用したもののみ使用
- 推測や一般的な知識に基づく記述は禁止

最終的な出力のみを生成し、思考過程や試行錯誤の痕跡を含めないでください。
"""
