# ステップ7: ローカルでの動作確認

## 目的

各コンポーネントが正常に動作することを確認します。

## 作業内容

### 1. AGENTS.md生成のテスト

```bash
python3 docgen/docgen.py
```

**確認項目**:
- [ ] AGENTS.mdが生成されるか確認
- [ ] 内容が適切か確認
- [ ] エラーメッセージがないか確認

**期待される動作**:
- コンソールに`[AGENTS.md生成]`というメッセージが表示される
- `✓ AGENTS.mdを生成しました`というメッセージが表示される
- プロジェクトルートに`AGENTS.md`ファイルが作成される

### 2. テストスクリプトのテスト

```bash
./scripts/run_tests.sh
```

**確認項目**:
- [ ] テストが正常に実行されるか確認
- [ ] テスト結果が正しいか確認

**期待される動作**:
- `=== テスト実行開始 ===`というメッセージが表示される
- pytestが実行され、テスト結果が表示される
- `=== テスト実行完了 ===`というメッセージが表示される

### 3. 統合パイプラインのテスト

```bash
./scripts/run_pipeline.sh
```

**確認項目**:
- [ ] 全ステップが正常に実行されるか確認
- [ ] 生成されたファイルが正しいか確認
- [ ] エラーハンドリングが機能するか確認

**期待される動作**:
- `=== 統合パイプライン開始 ===`というメッセージが表示される
- `[1/3] テスト実行中...`が表示され、テストが実行される
- `[2/3] ドキュメント生成中...`が表示され、ドキュメントが生成される
- `[3/3] パイプライン完了`が表示される
- `=== 統合パイプライン終了 ===`というメッセージが表示される

## トラブルシューティング

### AGENTS.mdが生成されない

1. `agents_generator.py`が正しくインポートされているか確認
2. 設定ファイルの`generate_agents_doc`が`true`になっているか確認
3. エージェント検出ロジックが適切か確認（`_is_agent()`メソッド）

### テストが失敗する

1. テスト環境が正しくセットアップされているか確認
2. 依存関係がインストールされているか確認
3. テストファイルに構文エラーがないか確認

### スクリプトが実行できない

1. 実行権限が付与されているか確認
   ```bash
   chmod +x scripts/run_tests.sh
   chmod +x scripts/run_pipeline.sh
   ```
2. シェバン（`#!/bin/bash`）が正しいか確認

## 確認事項

- [ ] すべてのステップが正常に完了するか
- [ ] エラーメッセージが適切か
- [ ] 生成されたファイルの内容が期待通りか

## 次のステップ

このステップが完了したら、[ステップ8: GitHub Actionsでの動作確認](./step8-github-testing.md)に進んでください。

